@model IEnumerable<PlatformMonitor.Models.ServiceStatus>
@{
    ViewData["Title"] = "Service Status";
    var grouped = Model.GroupBy(s => s.Environment ?? "Unknown");
}
<h2 style="background:#f5f5f5; padding:16px; border-radius:8px;">Service Status</h2>
@foreach (var envGroup in grouped)
{
    <h3>@envGroup.Key</h3>
    <table style="width:100%; border-collapse:collapse; margin-bottom:32px; background:#f5f5f5; padding:16px; border-radius:8px;">
        <thead>
            <tr>
                <th style="padding:8px 16px; border-bottom:1px solid #eee;">Service</th>
                <th style="padding:8px 16px; border-bottom:1px solid #eee;">Version</th>
                <th style="padding:8px 16px; border-bottom:1px solid #eee;">Status</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var service in envGroup)
            {
                var color = service.IsUp ? "#d4edda" : "#f8d7da";
                var border = service.IsUp ? "2px solid #28a745" : "2px solid #dc3545";
                var statusText = service.IsUp ? "Up" : "Down";
            <tr>
                <td style="padding:8px 16px; border-bottom:1px solid #eee;">@service.Name</td>
                <td style="padding:8px 16px; border-bottom:1px solid #eee;">@service.Version</td>
                <td>
                    <div style="background:@color; border:@border; color:#333; padding:8px 16px; border-radius:6px; display:inline-block; min-width:60px; text-align:center;">
                        @statusText
                    </div>
                </td>
            </tr>
            }
        </tbody>
    </table>
}
